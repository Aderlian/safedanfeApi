<h1 class="mt-4">Cadastro de fornecedor</h1>
<br>
<div class="container">
  <form #providerForm="ngForm" (ngSubmit)="onSubmit()">

    <div class="row" >
      <div class="col-md-12">
        <div class="alert alert-success" *ngIf="success">
          Empresa cadastrada com sucesso.
        </div>

        <div class="alert alert-danger" *ngFor="let erro of errors">
          {{erro}}
        </div>

      </div>
    </div>

    <div class="row">
      <div class="col-md-6">
        <div class="form-group">
          <label>Codigo</label>
          <input type="text" class="form-control" disabled="true" [ngModel]="provider.id" name="id"/>
        </div>
      </div>
        <div class="col-md-6">
          <div class="form-group">
            <label>Razão social</label>
            <input type="text" class="form-control" [(ngModel)]="provider.name" name="name"/>
          </div>
        </div>
    </div>


    <div class="row">
      <div class="col-md-4">
        <div class="form-group">
          <label>CNPJ</label>
          <input type="text" class="form-control" [(ngModel)]="provider.cnpj" name="cnpj"/>
        </div>
      </div>
        <div class="col-md-4">
          <div class="form-group">
            <label>Cidade</label>
            <input type="text" class="form-control" [(ngModel)]="provider.city" name="city"/>
          </div>
        </div>
        <div class="col-md-4">
          <div class="form-group">
            <label>Estado</label>
            <input type="text" class="form-control" [(ngModel)]="provider.state" name="state"/>
          </div>
        </div>
      </div>

      <div class="row">
          <div class="col-md">
            <button type="submit" class="btn btn-success ml-1" *ngIf="!provider.id">
              <i class="fa fa-save"></i> Salvar
            </button>
            <button type="button" class="btn btn-primary ml-1" *ngIf="provider.id" (click)="updateProvider()">
              <i class="fa fa-sync-alt"></i> Atualizar
            </button>
            <button type="button" class="btn btn-danger ml-1" data-toggle="modal" data-target="#modalDelecao" *ngIf="provider.id">
              <i class="fa fa-trash-alt"></i> Deletar
            </button>
            <button type="button" class="btn btn-warning ml-1" (click)="comeBackProvidersList()">
              <i class="fa fa-arrow-alt-circle-left"></i> Voltar
            </button>
          </div>
      </div>

  </form>

  <div id="modalDelecao" class="modal fade" role="dialog">
      <div class="modal-dialog">
        <div class="modal-content">
          <div class="modal-header">
            <h4>Confirmação</h4>
          </div>
          <div class="modal-body">
            Confirma a exclusão da empresa, {{ provider.id }} - {{ provider.name }}?
          </div>
          <div class="modal-footer">
            <button type="button" class="btn btn-success" (click)="deliteProvider()" data-dismiss="modal">Confirma</button>
            <button type="button" class="btn btn-danger" data-dismiss="modal">Cancela</button>
          </div>
        </div>
      </div>
  </div>

</div>
